<mxfile host="app.diagrams.net" modified="2026-01-06T00:00:00.000Z" agent="Draw.io" version="22.0.0" type="device">
  <diagram name="User Authentication State Diagram" id="auth-state">
    <mxGraphModel dx="1200" dy="600" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="900" pageHeight="400" math="0" shadow="0">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        
        <!-- Start State -->
        <mxCell id="start" value="" style="ellipse;fillColor=#000000;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="40" y="170" width="30" height="30" as="geometry"/>
        </mxCell>
        
        <!-- States -->
        <mxCell id="not-auth" value="Not Authenticated" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="110" y="165" width="130" height="40" as="geometry"/>
        </mxCell>
        
        <mxCell id="auth-supabase" value="Authenticating with&#xa;Supabase" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="330" y="165" width="150" height="40" as="geometry"/>
        </mxCell>
        
        <mxCell id="authenticated" value="Authenticated" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="580" y="165" width="120" height="40" as="geometry"/>
        </mxCell>
        
        <mxCell id="fail" value="Fail" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="375" y="60" width="60" height="30" as="geometry"/>
        </mxCell>
        
        <!-- End State -->
        <mxCell id="end" value="" style="ellipse;html=1;shape=doubleEllipse;fillColor=#ffffff;strokeColor=#000000;" vertex="1" parent="1">
          <mxGeometry x="760" y="170" width="30" height="30" as="geometry"/>
        </mxCell>
        
        <!-- Transitions -->
        
        <!-- Start to Not Authenticated -->
        <mxCell id="t1" value="" style="endArrow=classic;html=1;strokeColor=#000000;" edge="1" parent="1" source="start" target="not-auth">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>
        
        <!-- Not Auth to Authenticating -->
        <mxCell id="t2" value="opens AuthModal" style="endArrow=classic;html=1;strokeColor=#000000;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;" edge="1" parent="1" source="not-auth" target="auth-supabase">
          <mxGeometry relative="1" as="geometry">
            <mxPoint y="-10" as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Authenticating to Fail -->
        <mxCell id="t3" value="invalid credentials" style="endArrow=classic;html=1;strokeColor=#000000;exitX=0.5;exitY=0;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=9;" edge="1" parent="1" source="auth-supabase" target="fail">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="10" as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Fail back to Not Auth -->
        <mxCell id="t4" value="displays auth error" style="endArrow=classic;html=1;strokeColor=#000000;exitX=0;exitY=0.5;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=9;" edge="1" parent="1" source="fail" target="not-auth">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="175" y="75"/>
            </Array>
          </mxGeometry>
        </mxCell>
        
        <!-- Label: returns to Login -->
        <mxCell id="label1" value="returns to Login/Register screen" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;fontSize=9;" vertex="1" parent="1">
          <mxGeometry x="180" y="35" width="170" height="20" as="geometry"/>
        </mxCell>
        
        <!-- Authenticating to Authenticated -->
        <mxCell id="t5" value="receives valid session" style="endArrow=classic;html=1;strokeColor=#000000;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;" edge="1" parent="1" source="auth-supabase" target="authenticated">
          <mxGeometry relative="1" as="geometry">
            <mxPoint y="-10" as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Authenticated to End -->
        <mxCell id="t6" value="establishes session" style="endArrow=classic;html=1;strokeColor=#000000;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=10;" edge="1" parent="1" source="authenticated" target="end">
          <mxGeometry relative="1" as="geometry">
            <mxPoint y="-10" as="offset"/>
          </mxGeometry>
        </mxCell>
        
        <!-- Authenticated to Not Auth (logout) -->
        <mxCell id="t7" value="user logs out" style="endArrow=classic;html=1;strokeColor=#000000;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=1;entryDx=0;entryDy=0;fontSize=10;" edge="1" parent="1" source="authenticated" target="not-auth">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="640" y="280"/>
              <mxPoint x="175" y="280"/>
            </Array>
            <mxPoint y="10" as="offset"/>
          </mxGeometry>
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
